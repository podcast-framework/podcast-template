---
/**
 * Homepage
 *
 * This is your podcast's homepage. Customize it to match your brand!
 */

import BaseLayout from '@podcast-framework/core/layouts/BaseLayout.astro';
import { getPodcast, getFeaturedEpisodes as getFeatured } from '@podcast-framework/core';
import FeaturedEpisodesCarousel from '@podcast-framework/core/components/FeaturedEpisodesCarousel.astro';

// Fetch podcast info and featured episodes
const podcastInfo = await getPodcast();
const featuredEpisodes = await getFeatured();
const siteName = podcastInfo?.name || "My Podcast";
---

<BaseLayout
  title={siteName}
  description={podcastInfo?.description || "A podcast about interesting topics"}
>
  <main class="max-w-6xl mx-auto px-4 py-12 flex-grow">
    <!-- Hero Section -->
    <div class="text-center mb-16">
      <h1 class="text-5xl md:text-6xl font-bold mb-6">{siteName}</h1>
      {podcastInfo?.tagline && (
        <p class="text-xl md:text-2xl text-gray-600 mb-8">{podcastInfo.tagline}</p>
      )}
      {podcastInfo?.description && (
        <p class="text-lg text-gray-700 max-w-3xl mx-auto leading-relaxed">
          {podcastInfo.description}
        </p>
      )}
    </div>

    <!-- Featured Episodes Carousel -->
    {featuredEpisodes && featuredEpisodes.length > 0 && (
      <section class="mb-16">
        <h2 class="text-3xl font-bold text-center mb-8">Featured Episodes</h2>
        <FeaturedEpisodesCarousel episodes={featuredEpisodes} />
      </section>
    )}

    <!-- Call to Action -->
    <div class="text-center">
      <a
        href="/episodes"
        class="inline-block px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold text-lg"
      >
        Browse All Episodes
      </a>
    </div>
  </main>
</BaseLayout>
